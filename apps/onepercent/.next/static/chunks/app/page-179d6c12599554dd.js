(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{60:(e,a,t)=>{"use strict";t.d(a,{default:()=>m});var n=t(5155),s=t(2115),r=t(6908),i=t(4890);let o=r.Ay.form.withConfig({componentId:"sc-ba2ccaee-0"})(["display:flex;flex-wrap:wrap;gap:0.75rem;align-items:center;"]),l=r.Ay.input.withConfig({componentId:"sc-ba2ccaee-1"})(["flex:1 1 240px;min-width:220px;padding:0.7rem 0.9rem;border-radius:10px;border:1px solid rgba(26,25,22,0.18);background:rgba(255,255,255,0.8);font-family:var(--font-sans),-apple-system,sans-serif;font-size:0.95rem;&:focus{outline:none;border-color:rgba(196,64,47,0.55);box-shadow:0 0 0 3px rgba(196,64,47,0.15);}"]),c=r.Ay.button.withConfig({componentId:"sc-ba2ccaee-2"})(["appearance:none;border:none;border-radius:999px;padding:0.7rem 1.15rem;background:rgba(26,25,22,0.92);color:#faf8f4;font-family:var(--font-sans),-apple-system,sans-serif;font-size:0.75rem;font-weight:600;letter-spacing:0.18em;text-transform:uppercase;cursor:pointer;&:hover{background:rgba(26,25,22,1);}&:disabled{cursor:not-allowed;opacity:0.55;}"]),d=r.Ay.p.withConfig({componentId:"sc-ba2ccaee-3"})(["margin-top:0.75rem;margin-bottom:0;font-family:var(--font-sans),-apple-system,sans-serif;font-size:0.85rem;color:rgba(26,25,22,0.7);"]);function m(){let[e,a]=(0,s.useState)(""),[t,r]=(0,s.useState)("idle"),[m,p]=(0,s.useState)(""),u=(0,s.useMemo)(()=>e.trim(),[e]),f=async()=>{r("submitting"),p("");try{let e=await fetch("/api/waitlist",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:u})}),a=await e.json();if(!e.ok||a?.status==="failed"){let e=a?.error||"subscribe-failed";"missing-api-key"===e?p("Waitlist is not configured yet. Try again soon."):"invalid-email"===e?p("Please enter a valid email address."):p("Something went wrong. Please try again."),r("error");return}r("success"),p("You're in. We'll email you when 1% opens."),(0,i.s)("waitlist_submit")}catch{r("error"),p("Something went wrong. Please try again.")}};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(o,{onSubmit:e=>{e.preventDefault(),u&&f()},children:[(0,n.jsx)(l,{type:"email",name:"email",placeholder:"you@company.com",autoComplete:"email",value:e,onChange:e=>a(e.target.value),disabled:"submitting"===t||"success"===t,required:!0}),(0,n.jsx)(c,{type:"submit",disabled:"submitting"===t||"success"===t||!u,children:"Iâ€™m interested"})]}),(0,n.jsx)(d,{children:m||"No spam. Just an invite when the library opens (plus a rare update)."})]})}},4890:(e,a,t)=>{"use strict";t.d(a,{s:()=>n});let n=(e,a)=>{try{if(a&&Object.keys(a).length>0)return void window.va?.("event",{name:e,data:a});window.va?.("event",{name:e})}catch{}}},9712:(e,a,t)=>{Promise.resolve().then(t.bind(t,60))}},e=>{e.O(0,[908,441,794,358],()=>e(e.s=9712)),_N_E=e.O()}]);